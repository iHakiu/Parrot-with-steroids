; ~/.config/polybar/config.ini
; Arquitectura de barras flotantes independientes — estilo pentesting
; Tema Catppuccin Mocha

; ─── Colores ────────────────────────────────────────────────────────────────

[colors]
; ─── Fondo Oscuro con Transparencia ───────────────────────────
; El "F0" al principio es el canal Alpha (transparencia).
; 1e1e2e es un tono azul oscuro muy profundo (estilo Catppuccin/Dracula).
background = #FF435060
background-alt = #3b4252

; ─── Texto y Elementos (Paleta Nord) ──────────────────────────
foreground = #d8dee9
primary    = #88c0d0   
secondary  = #81a1c1   
red      = #e53935   
disabled   = #4c566a   

; ─── Colores de Acento Extra ──────────────────────────────────
green  = #43a047       
purple = #b48ead       
orange = #d08770       
white = #FFFFFF       
blue = #039be5
yellow = #ffb300

; ─── Plantilla base — todas las barras heredan de aquí ───────────────────────
[bar/base]
height = 35
radius = 16

background = ${colors.background}
foreground = ${colors.foreground}

; Fuente principal con soporte Nerd Font
font-0 = "Hack Nerd Font:style=Regular:size=11;3"
font-1 = "Hack Nerd Font:style=Bold:size=11;3"
font-2 = "Hack Nerd Font:style=Regular:size=20;5"
font-3 = "Hack Nerd Font:style=Regular:size=20;2"
font-4 = "Hack Nerd Font:style=Regular:size=11;2"

padding-left  = 2
padding-right = 2
module-margin = 1

; Flotar sobre las ventanas, no reservar espacio
override-redirect = false
enable-struts = false
wm-restack = bspwm

; ─── Barra 1: IP local (Izquierda) ───────────────────────────────────────────
[bar/local_ip]
inherit   = bar/base
width     = 11%
offset-x  = 1%
offset-y  = 15
modules-center = local_ip

; ─── Barra 2: IP VPN (Izquierda Centro) ──────────────────────────────────────
[bar/htb_ip]
inherit   = bar/base
width     = 10%
offset-x  = 14%
offset-y  = 15
modules-center = htb_ip

; ─── Barra 3: Workspaces (Centro Absoluto) ───────────────────────────────────
[bar/workspaces]
inherit   = bar/base
width     = 16%
offset-x  = 41.85%
offset-y  = 15
modules-center = bspwm

; ─── Barra 4: Target (Derecha Centro) ────────────────────────────────────────
[bar/target]
inherit   = bar/base
width     = 12.5%
offset-x  = 74%
offset-y  = 15
modules-center = target

; ─── Barra 5: Fecha (Derecha) ────────────────────────────────────────────────
[bar/date]
inherit   = bar/base
width     = 8%
offset-x  = 91.3%
offset-y  = 15
modules-center = date

; ─── Módulo: IP local ────────────────────────────────────────────────────────
[module/local_ip]
type     = custom/script
exec     = ~/.config/bspwm/scripts/local_ip.sh
interval = 5
; Icono Ethernet
format-prefix = "%{T3}󰈀 %{T-}"
format-prefix-foreground = ${colors.blue}
label = %output%

; ─── Módulo: IP VPN ──────────────────────────────────────────────────────────
[module/htb_ip]
type     = custom/script
exec     = ~/.config/bspwm/scripts/htb_ip.sh
interval = 5
; Icono Red/VPN
format-prefix = "%{T3}󰆧 %{T-}"
format-prefix-foreground = ${colors.green}
label = %output%

; ─── Módulo: Workspaces BSPWM ────────────────────────────────────────────────
[module/bspwm]
type = internal/bspwm
pin-workspaces = true
inline-mode = false
enable-click = true
enable-scroll = false

; ESTILO PUNTOS
; Activo (Punto Lleno - Morado)
label-focused = "%{T4}●%{T-}"
label-focused-foreground = ${colors.red}
label-focused-padding = 1

; Ocupado (Círculo vacío - Azul Cian)
label-occupied = "%{T5}●%{T-}"
label-occupied-foreground = ${colors.yellow}
label-occupied-padding = 1

; Vacío (Punto pequeño - Gris)
label-empty = "·"
label-empty-foreground = ${colors.white}
label-empty-padding = 1

; ─── Módulo: Target ──────────────────────────────────────────────────────────
[module/target]
type     = custom/script
exec     = ~/.config/bspwm/scripts/target_hack.sh
interval = 2
; Icono de Mira/Target
format-prefix = "%{T3}󰓾 %{T-}"
format-prefix-foreground = ${colors.red}
label = %output%

; ─── Módulo: Fecha y hora ────────────────────────────────────────────────────
[module/date]
type     = internal/date
interval = 1
time     = %H:%M
date     = %d/%m

label            = %time%
label-foreground = ${colors.foreground}

; ─── Settings ────────────────────────────────────────────────────────────────
[settings]
screenchange-reload = true

pseudo-transparency = false
